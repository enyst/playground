---
name: mac_app
type: task
agent: CodeActAgent
---
# OpenHands Mac App UI Design Plan

This document outlines the plan for the user interface of the OpenHands Mac application.

## 1. Core UI Elements

The Mac app UI will consist of the following core elements:

1.  **Task Input Area:**
    *   Description: A text area where users can input instructions and tasks for OpenHands.
    *   Functionality: Accepts natural language task instructions.

2.  **Agent Output Display:**
    *   Description: A window or panel to display the step-by-step actions, logs, and outputs generated by the OpenHands agent.
    *   Functionality: Real-time display of agent's progress, including code changes and command executions.

3.  **File Explorer:**
    *   Description: A file tree view to browse and manage files within the workspace.
    *   Functionality: File system navigation, file opening, basic file management (create, delete, rename - optional for initial version).



5.  **Settings Panel:**
    *   Description: A panel to configure various settings for the Mac app and the OpenHands backend.
    *   Functionality:
        *   Backend Connection: Options to connect to a local or remote OpenHands backend.
        *   API Keys: Input fields for necessary API keys (e.g., for LLMs).
        *   Other settings as needed (e.g., theme, font size).

6.  **Control Buttons:**
    *   Description: Buttons to control the execution of the agent.
    *   Functionality:
        *   Start: Initiate agent execution for the given task.
        *   Stop: Terminate agent execution.
        *   Pause/Resume: (Optional for initial version) Pause and resume agent execution.
        *   Step: (Optional for initial version) Step through agent actions one by one for debugging/inspection.

7.  **Prompt Configuration Area:**
    *   Description: A section to manage and configure prompts, including system prompts and MicroAgents.
    *   Functionality:
        *   **MicroAgent Source Tabs/Sections:**
            *   **Public MicroAgents:** (View-only) - Browse and view descriptions of public MicroAgents.
            *   **Repo-Specific MicroAgents:** (Editable) - Browse, view, and edit repo-specific MicroAgents.
        *   **MicroAgent List:** Display lists of MicroAgents within each source section.
        *   **MicroAgent Content Editor:**
            *   View and edit (for repo-specific) the content of selected MicroAgents (Markdown/YAML editor with syntax highlighting).
            *   View (for public MicroAgents) the content of selected MicroAgents (view-only editor).
        *   **(Optional) Version Control/Undo-Redo for Repo-Specific MicroAgents:** Basic undo/redo functionality in the editor.

8.  **Memory Area:**
    *   Description: A section to visualize and potentially manage the agent's memory (short-term and long-term).
    *   Functionality:
        *   **Memory Display:** Visualize agent's memory content (format to be determined - e.g., text, graph).
        *   **(Optional) Memory Management:** Features to clear or edit memory (for advanced users).

## 2.  UI Structure (Conceptual Layout)

The UI layout is conceptually divided into two main columns: a left column for the Chat Area and a right column for context and tools.

```
+-----------------------------------------------------+-----------------------------------------------------------------------+
|                      Left Column                      |                             Right Column                              |
| +-------------------------------------------------+ | +-------------------------------------------------------------------+ |
| |                  Chat Area                      | | |                      Top Right Section                            | |
| | +---------------------------------------------+ | | | | +---------------------------------------+-----------------------+ |
| | |          Agent Output Display             | | | | | |    Workspace (File Explorer)       | Variable Context Area   | |
| | | (Conversation History, Agent Actions, Logs) | | | | | |                                       | (Settings,         | |
| | +---------------------------------------------+ | | | | |                                       |  Prompts,    | |
| | |              Task Input Area                | | | | |                                       |  Memory - switchable)  | |
| | |         (User Input Text Area)              | | | | +---------------------------------------+-----------------------+ |
| | +---------------------------------------------+ | | +-------------------------------------------------------------------+ |
| +-------------------------------------------------+ | | |             Bottom Right Section: Terminal/Command Output         | |
|                                                     | | | +-------------------------------------------------------------------+ |
|                                                     | | | |                                                                   | |
|                                                     | | | | (Smaller height than Top Right Section)                           | |
|                                                     | | +-------------------------------------------------------------------+ |
+-----------------------------------------------------+-----------------------------------------------------------------------+
```

*   **Left Column (Chat Area):** Focuses on user interaction and agent communication.
    *   **Agent Output Display:** Shows the conversation history, agent actions, and logs.
    *   **Task Input Area:**  Provides a text area for user instructions.

*   **Right Column (Context and Tools):**  Provides supporting information and tools, split horizontally.
    *   **Top Right Section:** Split vertically into two areas.
        *   **Workspace (File Explorer):** Displays a file tree for workspace navigation.
        *   **Variable Context Area:** Switchable tabbed panel for different context views. The views available in this area are:
            *   **Settings Panel:**  For configuring application settings.
            *   **Prompt Configuration Area:** For managing system prompts and MicroAgents.
            *   **Memory Area:** To visualize and manage the agent's memory.
    *   **Bottom Right Section: Terminal/Command Output:** Displays the output of commands executed by the agent.  This section has a smaller height than the Top Right Section.

This layout aims to provide a clear and organized interface, separating the main interaction flow (chat) from supporting tools and contextual information.

## 3.  Backend Communication

The Mac app UI will communicate with the Python backend using **SocketIO**. 

The backend server is already configured to use SocketIO for real-time communication with the web UI.  The SocketIO server is initialized in `openhands/server/shared.py` and event handlers are defined in `openhands/server/listen_socket.py`.

The existing SocketIO setup is configured to allow Cross-Origin Requests from any origin (`cors_allowed_origins='*'`), which will allow the Mac app to connect to the backend server.

The Mac app will need to implement a SocketIO client to connect to the backend server and communicate using the same event names (`oh_action`, `oh_event`, etc.) as the web UI.

This approach reuses the existing communication infrastructure and avoids the need to design a new communication protocol.

## 4.  Implementation

We have decided to use Swift/Cocoa for building the Mac app UI.



---

This is the initial UI design plan.  We will iterate and refine this plan as we move forward with development.
